

# 10.8

```
lhi r3, x3000		;r3包含num的地址

addi r2, r0, 0		;r2清零，包含和

addi r1, r3, #10	;r1包含10

seq r4, r3, r1		;if r3 == r1, r4 = 1 

beqz r4, x0020		;if r4 == 0, trap0

lw r5, 0(r3)		;r5 包含num的具体数值

add r2, r5, r2 		;add r2, r2, r5

addi r3, r3, #1		;

j xFFE8

trap 0
```



1. 初始不是从x3000 1000开始。应将第一行改成两条:

   ```
   lhi r3, x3000
   addi r3, r3, x00c
   ```

2. 第三行应为`addi r1, r0, #10`

3. 第四、五行应为`beqz r1, x0020`

4. j 指令应当跳转到`beqz r1, x0020`

# 11.8

1. 

| saveR2     | x00007000 |
| ---------- | --------- |
| saveR4     | x00007004 |
| HelloWorld | x00007008 |
| main       | x40000000 |
| LOOP       | x4000000c |
| Return     | x40000020 |

2. 打印“Hello， World”

# 11.10

## （1）

1. ### 符号表

   | 符号 | 原地址     | 新地址     |
   | ---- | ---------- | ---------- |
   | NUM1 | x3000 0000 | x3000 0000 |
   | NUM2 | x3000 0004 | x3000 0004 |
   | main | x4000 0000 | x4000 0000 |
   | NEXT | x4000 0014 | x4000 0018 |
   
2. ### 机器语言

    | 地址       | 数据                                   | 解释             |
    | ---------- | -------------------------------------- | ---------------- |
    | x4000 0000 | 000001 00000 00001 0000 0000 0000 0000 | ADDI R1, R0, #0  |
    | X4000 0004 | 001100 00000 00100 0011 0000 0000 0000 | LHI R4, X3000    |
    | x4000 0008 | 011100 00100 00010 0000 0000 0000 0000 | LW R2, X0000(R4) |
    | x4000 000C | 001001 00010 00011 0000 0000 0000 0001 | ANDI R3, R2, #1  |
    | x4000 0010 | 101001 00011 00000 0000 0000 0000 0100 | BNEZ R3, NEXT    |
    | x4000 0014 | 000011 00010 00010 0000 0000 0000 0001 | SUBI R2, R2, #1  |
    | x4000 0018 | 000000 00001 00010 00001 00000 000001  | ADD R1, R1, R2   |
    | x4000 001C | 000011 00010 00010 0000 0000 0000 0010 | SUBI R2, R2, #2  |
    | x4000 0020 | 010010 00010 00011 0000 0000 0000 0000 | SLEI R3, R2, #0  |
    | x4000 0024 | 101000 00011 00000 1111 1111 1111 0000 | BEQZ R3, NEXT    |
    | x4000 0028 | 011101 00100 00001 0000 0000 0000 0100 | SW x0004(R4), R1 |
    | x4000 002C | 110000 00000 00000 0000 0000 0000 0000 | TRAP 0           |

## （2）

将比NUM1小的所有奇数和存到NUM2中

# 11.12

ADDI 中的立即数大于16位

在汇编时可以被检测

# 11.14

1. `SUBI R2, R2, #1`
2. `LB R5, 0(R3)`
3. `SUBI R2, R2, #1`
4. `R3, R3, #1`

